<!DOCTYPE html>
<html lang="pl">
    <head>
        <meta charset="UTF-8">
        <title>üéµ Music Store REST API üéµ</title>
        <link rel="stylesheet" href="/static/style.css">
    </head>
    <body>
        <header id="top">
            <h1>üéµ Music Store REST API üéµ</h1>
            <p>REST API dla sklepu muzycznego, umo≈ºliwiajƒÖce przeglƒÖdanie dostƒôpnych album√≥w, zarzƒÖdzanie ofertƒÖ i stanami magazynowymi.</p>
        </header>
            <nav>
                <a href="#opis">Przeznaczenie</a>
                <a href="#autoryzacja">Autoryzacja</a>
                <a href="#endpointy">Endpointy</a>
                <a href="#model">Model Danych</a>
                <a href="#iframe">Swagger</a>
                <a href="/swagger/index.html#/albums">Dokumentacja API (Swagger UI)</a>
                <a href="https://github.com/Bumburysy/PAW_2025_Music_Store_API">Repozytorium</a>
                <a href="#top">‚¨ÜÔ∏è</a>
            </nav>
        <main>
            <section id="opis">
                <h2>Przeznaczenie REST API</h2>
                <div>
                    <p>Music Store API s≈Çu≈ºy jako backendowy serwis RESTful, umo≈ºliwiajƒÖcy zarzƒÖdzanie zasobami zwiƒÖzanymi z internetowym sklepem muzycznym. Umo≈ºliwia zarzƒÖdzanie danymi takimi jak albumy muzyczne, u≈ºytkownicy, recenzje, zam√≥wienia, a tak≈ºe procesy zwiƒÖzane z uwierzytelnianiem i autoryzacjƒÖ u≈ºytkownik√≥w. API zosta≈Ço zaprojektowane do wsp√≥≈Çpracy z frontendowƒÖ czƒô≈õciƒÖ aplikacji lub zewnƒôtrznymi systemami integrujƒÖcymi.</p>
                    <p>System umo≈ºliwia:</p>
                    <ul>
                        <li>Obs≈Çugƒô album√≥w muzycznych ‚Äì dodawanie, przeglƒÖdanie, aktualizowanie i usuwanie album√≥w.</li>
                        <li>Rejestracjƒô i zarzƒÖdzanie u≈ºytkownikami ‚Äì tworzenie kont, przeglƒÖdanie danych u≈ºytkownik√≥w, edycjƒô, usuwanie i zarzƒÖdzanie rolami u≈ºytkownik√≥w.</li>
                        <li>ZarzƒÖdzanie zam√≥wieniami ‚Äì tworzenie zam√≥wie≈Ñ, przeglƒÖdanie historii, edytowanie status√≥w oraz zarzƒÖdzanie danymi wysy≈Çki.</li>
                        <li>Moderacjƒô recenzji ‚Äì dodawanie, przeglƒÖdanie, edytowanie i usuwanie recenzji u≈ºytkownik√≥w.</li>
                        <li>Uwierzytelnianie i autoryzacjƒô ‚Äì umo≈ºliwiajƒÖce logowanie u≈ºytkownik√≥w oraz kontrolƒô dostƒôpu na podstawie przypisanej roli (np. administrator, u≈ºytkownik).</li>
                        <li>Wczytywanie danych testowych ‚Äì szybkie ≈Çadowanie przyk≈Çadowych danych (np. album√≥w, u≈ºytkownik√≥w) z plik√≥w JSON do bazy danych.</li>
                        <li>InteraktywnƒÖ dokumentacjƒô ‚Äì generowanƒÖ na podstawie definicji OpenAPI (Swagger), umo≈ºliwiajƒÖcƒÖ testowanie endpoint√≥w bezpo≈õrednio z poziomu przeglƒÖdarki.</li>
                    </ul>
                    <p>Wykorzystane Technologie:</p>
                    <ul>
                        <li>Go</li>
                        <li>GIN</li>
                        <li>MongoDB</li>
                        <li>HTML5</li>
                        <li>CSS3</li>
                    </ul>
                </div>
            </section>
            <section id="autoryzacja">
                <h2>Autoryzacja U≈ºytkownik√≥w</h2>
                <div>
                    <p>System wykorzystuje autoryzacjƒô opartƒÖ na tokenach JWT (JSON Web Token). U≈ºytkownicy muszƒÖ siƒô zalogowaƒá, podajƒÖc prawid≈Çowy adres e-mail i has≈Ço, aby uzyskaƒá token autoryzacyjny, kt√≥ry nastƒôpnie przesy≈ÇajƒÖ w nag≈Ç√≥wkach Authorization podczas wywo≈Çywania chronionych endpoint√≥w.</p>
                    <p>Proces autoryzacji:</p>
                    <ul>
                        <li>U≈ºytkownik wysy≈Ça zapytanie HTTP POST na endpoint /login, podajƒÖc swoje dane uwierzytelniajƒÖce (email i has≈Ço).</li>
                        <li>Serwer weryfikuje dane i w przypadku powodzenia generuje i zwraca token JWT.</li>
                        <li>U≈ºytkownik u≈ºywa otrzymanego tokena JWT do uzyskiwania dostƒôpu do zasob√≥w chronionych (np. albumy, zam√≥wienia, recenzje).</li>
                    </ul>

                    <p>Przyk≈Çad zapytania logowania:</p>
                        <pre><code class="json">curl -X 'POST' \
'http://localhost:25565/login' \
-H 'accept: application/json' \
-H 'Content-Type: application/json' \
-d '{
"email": "user@example.com",
"password": "strongpassword"}</code></pre>

                    <p>Zawarto≈õƒá zapytania:</p>
                    <pre><code class="json">{
  "email": "user@example.com",
  "password": "strongpassword"
}</code></code></pre>

                    <p>Odpowied≈∫ serwera (przyk≈Çadowy token):</p>
                    <pre><code class="json">{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}</code></code></pre>
                    <p>U≈ºycie tokena w dalszych zapytaniach:</p>
                    <pre><code class="json">Token JWT nale≈ºy umieszczaƒá w nag≈Ç√≥wku Authorization z prefiksem Bearer:

Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... </code></code></pre>
                </div>
            </section>
            <section id="endpointy">
                <h2>Planowane Endpointy</h2>
                <div>
                    <p>Uwierzytelnianie:</p>
                    <ul>
                        <li>POST /login ‚Äì logowanie i generowanie tokena JWT</li>
                    </ul>

                    <p>Obs≈Çuga album√≥w (/albums):</p>
                    <ul>
                        <li>GET /albums ‚Äì pobranie listy album√≥w</li>
                        <li>GET /albums/:id ‚Äì pobranie danych konkretnego albumu</li>
                        <li>POST /albums ‚Äì dodanie nowego albumu</li>
                        <li>POST /albums/bulk ‚Äì masowe dodanie album√≥w</li>
                        <li>PATCH /albums/:id ‚Äì aktualizacja danych albumu</li>
                        <li>DELETE /albums/:id ‚Äì usuniƒôcie albumu</li>
                    </ul>

                    <p>Obs≈Çuga u≈ºytkownik√≥w (/users):</p>
                    <ul>
                        <li>GET /users ‚Äì pobranie listy u≈ºytkownik√≥w</li>
                        <li>GET /users/:id ‚Äì pobranie danych konkretnego u≈ºytkownika</li>
                        <li>POST /users ‚Äì utworzenie nowego u≈ºytkownika</li>
                        <li>PATCH /users/:id ‚Äì aktualizacja danych u≈ºytkownika</li>
                        <li>DELETE /users/:id ‚Äì usuniƒôcie u≈ºytkownika</li>
                    </ul>

                    <p>Obs≈Çuga zam√≥wie≈Ñ (/orders):</p>
                    <ul>
                        <li>GET /orders ‚Äì pobranie wszystkich zam√≥wie≈Ñ</li>
                        <li>GET /orders/:id ‚Äì pobranie zam√≥wienia o podanym ID</li>
                        <li>GET /orders/user/:userID ‚Äì pobranie zam√≥wie≈Ñ u≈ºytkownika o podanym ID</li>
                        <li>POST /orders ‚Äì utworzenie nowego zam√≥wienia</li>
                        <li>PUT /orders/:id ‚Äì aktualizacja zam√≥wienia</li>
                        <li>PATCH /orders/:id/status ‚Äì zmiana statusu zam√≥wienia</li>
                        <li>PUT /orders/:id/shipping ‚Äì aktualizacja danych wysy≈Çki zam√≥wienia</li>
                        <li>DELETE /orders/:id ‚Äì usuniƒôcie zam√≥wienia</li>
                    </ul>

                    <p>Obs≈Çuga recenzji (/reviews):</p>
                    <ul>
                        <li>GET /reviews ‚Äì pobranie wszystkich recenzji</li>
                        <li>GET /reviews/:id ‚Äì pobranie recenzji o podanym ID</li>
                        <li>GET /reviews/album/:albumID ‚Äì pobranie recenzji dla danego albumu</li>
                        <li>GET /reviews/user/:userID ‚Äì pobranie recenzji u≈ºytkownika</li>
                        <li>POST /reviews ‚Äì utworzenie nowej recenzji</li>
                        <li>PUT /reviews/:id ‚Äì aktualizacja recenzji</li>
                        <li>DELETE /reviews/:id ‚Äì usuniƒôcie recenzji</li>
                    </ul>

                    <p>Dane testowe (/data):</p>
                    <ul>
                        <li>POST /data/load ‚Äì wczytanie danych testowych (np. album√≥w, u≈ºytkownik√≥w)</li>
                    </ul>

                    <p>Dokumentacja (Swagger):</p>
                    <ul>
                        <li>GET /swagger/*any ‚Äì interaktywna dokumentacja REST API</li>
                    </ul>
                </div>
            </section>
            <section id="model">
                <h2>Projekt Bazy Danych</h2>
                <div>
                    <p>System wykorzystuje MongoDB jako bazƒô danych NoSQL, kt√≥ra umo≈ºliwia elastyczne i szybkie przechowywanie danych w formacie dokument√≥w BSON (Binary JSON). Poni≈ºej przedstawiono modele danych wykorzystywane w aplikacji.</p>
                    <p>Kluczowe za≈Ço≈ºenia projektu bazy danych:</p>
                        <ul>
                            <li>MongoDB zapewnia elastyczno≈õƒá w przechowywaniu danych o r√≥≈ºnej strukturze i rozmiarze.</li>
                            <li>Dane o albumach, zam√≥wieniach, recenzjach i u≈ºytkownikach sƒÖ przechowywane w osobnych kolekcjach.</li>
                            <li>PowiƒÖzania miƒôdzy kolekcjami realizowane sƒÖ poprzez referencje (np. UserID, AlbumID).</li>
                            <li>Dane wra≈ºliwe (has≈Ça) przechowywane sƒÖ w postaci haszowanej za pomocƒÖ algorytmu bcrypt, a nie w postaci jawnej.</li>
                        </ul>

                    <p>Modele danych:</p>

                    <p>Album:</p>
                    <ul>
                        <li>ID (_id): Unikalny identyfikator albumu.</li>
                        <li>Title: Tytu≈Ç albumu.</li>
                        <li>Artist: Wykonawca albumu.</li>
                        <li>Genre: Gatunek muzyczny.</li>
                        <li>Description: Opcjonalny opis albumu.</li>
                        <li>ReleaseDate: Data wydania albumu.</li>
                        <li>Tracks: Lista utwor√≥w w albumie.</li>
                        <li>Price: Cena albumu.</li>
                        <li>Quantity: Ilo≈õƒá dostƒôpnych egzemplarzy.</li>
                        <li>CoverURL: URL do ok≈Çadki albumu.</li>
                        <li>CreatedAt, UpdatedAt: Daty utworzenia i modyfikacji wpisu.</li>
                    </ul>

                    <p>Order:</p>
                    <ul>
                        <li>ID (_id): Unikalny identyfikator zam√≥wienia.</li>
                        <li>UserID: Identyfikator u≈ºytkownika, kt√≥ry z≈Ço≈ºy≈Ç zam√≥wienie.</li>
                        <li>Items: Lista pozycji zam√≥wienia (OrderItem), zawierajƒÖca ID albumu, ilo≈õƒá i cenƒô jednostkowƒÖ.</li>
                        <li>Total: ≈ÅƒÖczna warto≈õƒá zam√≥wienia.</li>
                        <li>Status: Status zam√≥wienia (pending, processing, shipped, completed, cancelled).</li>
                        <li>Shipping: Dane do wysy≈Çki (ShippingDetails).</li>
                        <li>CreatedAt, UpdatedAt: Daty utworzenia i aktualizacji zam√≥wienia.</li>
                    </ul>

                    <p>Review:</p>
                    <ul>
                        <li>ID (_id): Unikalny identyfikator recenzji.</li>
                        <li>AlbumID: ID albumu, kt√≥rego dotyczy recenzja.</li>
                        <li>UserID: ID u≈ºytkownika wystawiajƒÖcego recenzjƒô.</li>
                        <li>Rating: Ocena albumu w skali (np. 1-5).</li>
                        <li>Comment: Komentarz do recenzji.</li>
                        <li>CreatedAt: Data utworzenia recenzji.</li>
                    </ul>

                    <p>User:</p>
                    <ul>
                        <li>ID (_id): Unikalny identyfikator u≈ºytkownika.</li>
                        <li>FirstName, LastName: Imiƒô i nazwisko u≈ºytkownika.</li>
                        <li>Email: Adres e-mail u≈ºytkownika.</li>
                        <li>PhoneNumber: Numer telefonu.</li>
                        <li>PasswordHash: Zabezpieczony hash has≈Ça u≈ºytkownika (pole Password u≈ºywane tylko przy tworzeniu).</li>
                        <li>Role: Rola u≈ºytkownika (np. admin, customer, employee).</li>
                        <li>IsActive: Status aktywno≈õci konta.</li>
                        <li>ShippingDetails: Dane adresowe u≈ºytkownika (ShippingDetails).</li>
                        <li>CreatedAt, UpdatedAt: Daty utworzenia i aktualizacji konta.</li>
                    </ul>

                    <p>ShippingDetails:</p>
                    <ul>
                        <li>Address: Adres dostawy.</li>
                        <li>City: Miasto dostawy.</li>
                        <li>PostalCode: Kod pocztowy.</li>
                        <li>Country: Kraj dostawy.</li>
                        <li>PhoneNumber: Numer telefonu kontaktowego.</li>
                    </ul>
                </div>
            </section>
            <section id="iframe">
                <h2>Swagger</h2> 
                <div>
                    <iframe src="/swagger/index.html"></iframe>
                </div>
            </section>
        </main>
        <footer>
              <p>¬© 2025 Music Store API</p>
                <p>API version 1.0 ‚Äî Backend Sklepu Muzycznego</p>
                <p>Kontakt: <a href="mailto:support@example.com">support@example.com</a></p>
                <p><a href="http://example.com/terms/">Regulamin</a> | <a href="https://opensource.org/licenses/MIT">Licencja MIT</a></p>
                <p><a href="/swagger/index.html">Dokumentacja API (Swagger UI)</a></p>
        </footer>
    </body>
</html>